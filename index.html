<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Loshana & Sineka - Wedding</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Add these in your head section -->
    <script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css">
    <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' https://*.dropbox.com https://*.dropboxusercontent.com 
        https://code.jquery.com https://stackpath.bootstrapcdn.com 
        https://cdnjs.cloudflare.com 'unsafe-inline' 'unsafe-eval';
    style-src 'self' https://*.dropbox.com https://*.dropboxusercontent.com 
        https://cdnjs.cloudflare.com 'unsafe-inline';
    img-src 'self' https://*.dropbox.com https://*.dropboxusercontent.com 
        https://dl.dropboxusercontent.com https://cdnjs.cloudflare.com data:;
    font-src 'self' https://cdnjs.cloudflare.com https://fonts.gstatic.com data:;
    connect-src 'self' https://*.dropbox.com https://*.dropboxusercontent.com 
        https://api.dropboxapi.com;
    frame-src 'self' https://*.dropbox.com;
">
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="51">
    <!-- Navbar Start -->
    <nav class="navbar fixed-top shadow-sm navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-lg-5">
        <a href="index.html" class="navbar-brand d-block d-lg-none">
            <h1 class="font-secondary text-white mb-n2">Loshana <span class="text-primary">&</span> Sineka</h1>
        </a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
            <div class="navbar-nav ml-auto py-0">
                <a href="#home" class="nav-item nav-link active"> Home</a>
                <a href="#about" class="nav-item nav-link">About</a>
                <!-- <a href="#event" class="nav-item nav-link">Event</a> -->

            </div>
            <a href="index.html" class="navbar-brand mx-5 d-none d-lg-block">
                <h1 class="font-secondary text-white mb-n2">Loshana <span class="text-primary">&</span> Sineka</h1>
            </a>
            <div class="navbar-nav mr-auto py-0">

                <a href="#gallery" class="nav-item nav-link">Gallery</a>
                <!-- <a href="#rsvp" class="nav-item nav-link">RSVP</a> -->
                <a href="#contact" class="nav-item nav-link">Contact</a>
            </div>
        </div>
    </nav>
    <!-- Navbar End -->


    <!-- Carousel Start -->
    <div class="container-fluid p-0 mb-5 pb-5" id="home">
        <div id="header-carousel" class="carousel slide carousel-fade" data-ride="carousel">
            <div class="carousel-inner">

                <!-- Slide 1 -->
                <div class="carousel-item position-relative active" style="height: 100vh; min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/carousel-1.jpg" style="object-fit: cover;">

                    <!-- Centered Text -->
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3 text-center" style="max-width: 900px;">
                            <h1 class="display-1 font-secondary text-white mt-n3 mb-md-4">Loshana & Sineka</h1>
                            <div class="d-inline-block border-top border-bottom border-light py-3 px-4">
                                <h3 class="text-uppercase font-weight-normal text-white m-0"
                                    style="letter-spacing: 2px;">
                                    We're getting married
                                </h3>
                            </div>
                        </div>
                    </div>

                    <!-- Countdown at bottom -->
                    <div class="position-absolute w-100 text-center" style="bottom: 80px;">
                        <h2 class="font-secondary text-white  mb-4">Countdown</h2>
                        <div id="countdown" class="d-flex justify-content-center flex-wrap">
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="days1">0</div>
                                <div style="font-size: 0.8rem;">Days</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="hours1">0</div>
                                <div style="font-size: 0.8rem;">Hours</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="minutes1">0</div>
                                <div style="font-size: 0.8rem;">Minutes</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="seconds1">0</div>
                                <div style="font-size: 0.8rem;">Seconds</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 2 -->
                <div class="carousel-item position-relative" style="height: 100vh; min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/carousel-2.jpg" style="object-fit: cover;">

                    <!-- Centered Text -->
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3 text-center" style="max-width: 900px;">
                            <h1 class="display-1 font-secondary text-white mt-n3 mb-md-4">Loshana & Sineka</h1>
                            <div class="d-inline-block border-top border-bottom border-light py-3 px-4">
                                <h3 class="text-uppercase font-weight-normal text-white m-0"
                                    style="letter-spacing: 2px;">
                                    We're getting married
                                </h3>
                            </div>
                        </div>
                    </div>

                    <!-- Countdown at bottom -->
                    <div class="position-absolute w-100 text-center" style="bottom: 80px;">
                        <h2 class="font-secondary text-white  mb-4">Countdown</h2>
                        <div id="countdown" class="d-flex justify-content-center flex-wrap">
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="days2">0</div>
                                <div style="font-size: 0.8rem;">Days</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="hours2">0</div>
                                <div style="font-size: 0.8rem;">Hours</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="minutes2">0</div>
                                <div style="font-size: 0.8rem;">Minutes</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="seconds2">0</div>
                                <div style="font-size: 0.8rem;">Seconds</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel Controls -->
            <a class="carousel-control-prev justify-content-start" href="#header-carousel" data-slide="prev">
                <div class="btn btn-primary px-0" style="width: 68px; height: 68px;">
                    <span class="carousel-control-prev-icon mt-3"></span>
                </div>
            </a>
            <a class="carousel-control-next justify-content-end" href="#header-carousel" data-slide="next">
                <div class="btn btn-primary px-0" style="width: 68px; height: 68px;">
                    <span class="carousel-control-next-icon mt-3"></span>
                </div>
            </a>
        </div>
    </div>
    <!-- Carousel End -->


    <!-- Video Modal Start -->
    <div class="modal fade" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <!-- 16:9 aspect ratio -->
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item" src="" id="video" allowscriptaccess="always"
                            allow="autoplay"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Video Modal End -->


    <!-- About Start -->
    <div class="container-fluid py-5" id="about">
        <div class="container py-5">
            <div class="section-title position-relative text-center">
                <h6 class="text-uppercase text-primary mb-3" style="letter-spacing: 3px;">About</h6>
                <h1 class="font-secondary display-4">Groom & Bride</h1>
                <i class="far fa-heart text-dark"></i>
            </div>
            <div class="row m-0 mb-4 mb-md-0 pb-2 pb-md-0">
                <div class="col-md-6 p-0 text-center text-md-right">
                    <div class="h-100 d-flex flex-column justify-content-center bg-secondary p-5">
                        <h3 class="mb-3">The Groom</h3>
                        <p>Lorem elitr magna stet rebum dolores sed. Est stet labore est lorem lorem at amet sea, eos
                            tempor rebum, labore amet ipsum sea lorem, stet rebum eirmod amet. Kasd clita kasd stet amet
                            est dolor elitr.</p>
                        <h3 class="font-secondary font-weight-normal text-muted mb-3"><i
                                class="fa fa-male text-primary pr-3"></i>Loshana</h3>
                        <div class="position-relative">
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-twitter"></i></a>
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 p-0" style="min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/about-1.jpg" style="object-fit: cover;">
                </div>
            </div>
            <div class="row m-0">
                <div class="col-md-6 p-0" style="min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/about-2.jpg" style="object-fit: cover;">
                </div>
                <div class="col-md-6 p-0 text-center text-md-left">
                    <div class="h-100 d-flex flex-column justify-content-center bg-secondary p-5">
                        <h3 class="mb-3">The Bride</h3>
                        <p>Lorem elitr magna stet rebum dolores sed. Est stet labore est lorem lorem at amet sea, eos
                            tempor rebum, labore amet ipsum sea lorem, stet rebum eirmod amet. Kasd clita kasd stet amet
                            est dolor elitr.</p>
                        <h3 class="font-secondary font-weight-normal text-muted mb-3"><i
                                class="fa fa-female text-primary pr-3"></i>Sineka</h3>
                        <div class="position-relative">
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-instagram"></i></a>
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->


    <!-- Gallery Start -->
    <!-- Gallery Start -->
    <div class="container-fluid bg-gallery" id="gallery" style="padding: 120px 0;">
        <div class="section-title position-relative text-center" style="margin-bottom: 120px;">
            <h6 class="text-uppercase text-primary mb-3" style="letter-spacing: 3px;">Gallery</h6>
            <h1 class="font-secondary display-4 text-white">Our Wedding Gallery</h1>
            <i class="far fa-heart text-white"></i>
        </div>

        <!-- Upload Section -->
        <div class="text-center mb-5">
            <a href="https://www.dropbox.com/request/Sww7IKoLdVR4gql3ddnQ" target="_blank"
                class="btn btn-primary btn-lg">
                <i class="fas fa-cloud-upload-alt mr-2"></i> Upload Your Photos
            </a>
            <p class="text-white mt-3">Help us capture every special moment by sharing your photos!</p>

            <!-- Upload Status (hidden by default) -->
            <div id="uploadStatus" class="alert alert-success mt-3" style="display:none;">
                Thank you for uploading your photos! They'll appear in the gallery shortly.
            </div>
        </div>

        <!-- Gallery Container -->
        <div class="container">
            <!-- Loading Indicator -->
            <div id="galleryLoading" class="text-center py-5">
                <div class="spinner-border text-light" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <p class="text-white mt-3">Loading precious memories...</p>
            </div>

            <!-- Gallery Content -->
            <div class="owl-carousel gallery-carousel" id="photoGallery" style="display:none;">
                <!-- Photos will be loaded here dynamically -->
            </div>

            <!-- Empty State -->
            <div id="emptyGallery" class="text-center py-5" style="display:none;">
                <i class="far fa-images text-white fa-3x mb-3"></i>
                <h4 class="text-white">No photos yet</h4>
                <p class="text-white">Be the first to share your photos!</p>
            </div>
        </div>
    </div>



    <!-- Gallery End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white py-5" id="contact">
        <div class="container text-center py-5">
            <div class="section-title position-relative text-center">
                <h1 class="font-secondary display-3 text-white">Thank You</h1>
                <i class="far fa-heart text-white"></i>
            </div>
            <!-- <div class="d-flex justify-content-center py-2">
                <p class="text-white" href="#">info@example.com</p>
                <span class="px-3">|</span>
                <p class="text-white" href="#">+012 345 6789</p>
            </div> -->
            <p class="m-0">&copy; <a class="text-primary" href="#"></a>2025 by Githma Amarasinghe. All rights reserved.
            </p>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Scroll to Bottom -->
    <i class="fa fa-2x fa-angle-down text-white scroll-to-bottom"></i>

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-outline-primary btn-lg-square back-to-top"><i
            class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    
    <!-- Countdown Script -->
    <script>
        const weddingDate = new Date("Sep 4, 2025 00:00:00").getTime();

        function updateCountdown(daysId, hoursId, minutesId, secondsId) {
            const now = new Date().getTime();
            const distance = weddingDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById(daysId).innerText = days;
            document.getElementById(hoursId).innerText = hours;
            document.getElementById(minutesId).innerText = minutes;
            document.getElementById(secondsId).innerText = seconds;
        }

        setInterval(() => {
            updateCountdown("days1", "hours1", "minutes1", "seconds1");
            updateCountdown("days2", "hours2", "minutes2", "seconds2");
        }, 1000);
    </script>
    <!-- Template Javascript -->
    <!-- JavaScript to handle gallery functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Check URL for upload success
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('uploadSuccess')) {
                document.getElementById('uploadStatus').style.display = 'block';
                window.history.replaceState({}, document.title, window.location.pathname);
            }

            // Initialize Dropbox
            const dbx = new Dropbox.Dropbox({
                accessToken: 'sl.u.AF4mThajkvrrknLEqwIxEbRYpwveCoet1WoWFImuD3YCN53-_IeWT_wp3EUJ4AHEZpLDS5ywyWj0Bc4W2Gl3lzGO5_rGN93DUAzkkI2wdqVbV3gWGr267mx2FZYYl3yVLXE66wDHf2u0dbBAIYcIFuVqQPVPnYBpho7MTQ9EauCSYcFRFGv80Rd4rs1U6BguHvVvUi4JoOXAiyQlKGk0AlOBOW14TOsYo5-x-YWRWKewMUmLaiQjnvEPigpWuZBgEKwe-UYX-gkCXcIKq25sc0lDdR4XhGRwm0-Pt22pS1KZu5mnh-kuDpGnDsC8giXaUQEu2_2Omi5pN7zDr2i5M5FoqmyZG61ZSrk1ykzZxHSmcI4QA6rUp_mIo27P1LiCKPVcJG7lyxeeVBTVlQOJxi6w9paRFR_BewXUPPkMlNXxpdYLCfdNJfM2vEYpMWzcEKeZioJ8Jtre8GbJsY1NAudoh98L6j2HklKzACy7F0vT8ZVKzutDoPBpbwDWKUf3ue1uR4GtHfxkq-33M9JkqZgGL6Yf7MKmDKUWc4LLDWnbE2Bc9BWrUV5uXuoOOa3FsOeA_aKjjRVmwb7Hh1iGSiFMb0qgJtKT53UI5OYBNoLxFLOpA0L6ULuxzhVMpd_iCJdoknWiIaE7UTrfj25WCQre11G65rJs9UQCaYxE-BWFnLSNHvDVT7BQPmD5OsMgeRbVP9h_xYS7mYNmPvx682uxsMxgrZY3Rpju2StY_wowt670vPgdPy3m7Q9VMLl0MDLUQT9zZztjlh3Rgkt-OUTbBQDTk2He4AE3D5na8EizEHHmFa8sda1vKVGau_AJPEzCqYR6SDRxGylQSjlK5wOkpU68hZtfcpmYYU7z3R-Ok_8tJtDeg_FDGBsGP9u__5JE6m8n3tzNf-3SXYJvRjnQj5V6PD5WzzEtKJsMYIhN_fKddUxuSH5mp8Kp5vsu4jcGTelG9JDxzoeU7aQa_cTAthtRUHbaBWRpPGHFhN9T056D3kRarabpQT3lDxQFObv1rprfHkDhQsU7252OVlsWmiUEep5UbeP35p06kVwd4gjp69eJqWgdX_wqE4UjUYd30ZfL4fAO28V5zz8qIYuGrAI0nb2U1k_8VRKJe0Vx1QqkKb-RgSp829-berICiVWzbKP2WGGdPFMp5ebJfoO3_Kjpa0ZHq_X6kMT9qyP8R_4CvVdRaphcHkulCy6uWcbFDlDHwZ14YDZxLlVumSHYt2WXUk1xBfxKENEMSmV-mzFv3aVR5Zv9rWyTNsgo2USchsD6J3FFBMrJEKBE0KtSy2j-KfQxtvMOmLrOWw1RGw' // REPLACE WITH YOUR TOKEN
            });

            loadGalleryPhotos(dbx);
        });

        async function loadGalleryPhotos(dbx) {
            const gallery = document.getElementById('photoGallery');
            const loading = document.getElementById('galleryLoading');
            const empty = document.getElementById('emptyGallery');

            try {
                console.log("Loading photos from Dropbox...");



                // List files in the folder
                const response = await dbx.filesListFolder({
                    path: '/File requests/Wedding Photos', // Try '/Wedding Photos' if using a specific folder
                    limit: 100
                });

                console.log("Dropbox response:", response);
                const entries = response.result.entries;  // ✅ unwrap the data

                if (!entries || entries.length === 0) {
                    throw new Error("No photos found in Dropbox folder");
                }


                loading.style.display = 'none';
                let galleryHTML = '';
                let loadedPhotos = 0;

                for (const entry of entries) {
                    if (entry['.tag'] === 'file' && /\.(jpg|jpeg|png)$/i.test(entry.name)) {
                        try {
                            const linkRes = await dbx.filesGetTemporaryLink({
                                path: entry.path_lower   // ✅ use path_lower (safer than id)
                            });

                            galleryHTML += `
                <div class="gallery-item">
                    <img class="img-fluid w-100" src="${linkRes.result.link}" loading="lazy" alt="Wedding photo">
                    <a href="${linkRes.result.link}" data-lightbox="gallery">
                        <i class="fa fa-2x fa-plus text-white"></i>
                    </a>
                </div>
            `;
                            loadedPhotos++;
                        } catch (e) {
                            console.error("Error loading image:", entry.name, e);
                        }
                    }
                }


                if (loadedPhotos > 0) {
                    gallery.innerHTML = galleryHTML;
                    gallery.style.display = 'block';

                    // Initialize carousel
                    $('.gallery-carousel').owlCarousel({
                        items: 3,
                        loop: true,
                        margin: 20,
                        autoplay: true,
                        responsive: {
                            0: { items: 1 },
                            768: { items: 2 },
                            992: { items: 3 }
                        }
                    });

                    // Initialize lightbox
                    lightbox.option({
                        'resizeDuration': 200,
                        'wrapAround': true
                    });
                } else {
                    empty.style.display = 'block';
                    empty.innerHTML = `
                    <i class="far fa-images text-white fa-3x mb-3"></i>
                    <h4 class="text-white">No photos found</h4>
                    <p class="text-white">We couldn't find any photos in the Dropbox folder</p>
                `;
                }

            } catch (error) {
                console.error("Gallery loading error:", error);
                loading.style.display = 'none';
                empty.style.display = 'block';
                empty.innerHTML = `
                <i class="fas fa-exclamation-triangle text-white fa-3x mb-3"></i>
                <h4 class="text-white">Error loading gallery</h4>
                <p class="text-white">${error.message || 'Please check console for details'}</p>
            `;
            }
        }
    </script>
    <script src="js/main.js"></script>
</body>

</html>