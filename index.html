<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Sineka & Loshana - Wedding</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Glide.js for slider -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/css/glide.core.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/css/glide.theme.min.css">
    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

    <!-- Add these in your head section -->
    <script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css">
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="51">
    <!-- Navbar Start -->
    <nav class="navbar fixed-top shadow-sm navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-lg-5">
        <a href="index.html" class="navbar-brand d-block d-lg-none">
            <h1 class="font-secondary text-white mb-n2">Sineka <span class="text-primary">&</span> Loshana</h1>
        </a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
            <div class="navbar-nav ml-auto py-0">
                <a href="#home" class="nav-item nav-link active"> Home</a>
                <a href="#about" class="nav-item nav-link">About</a>
                <!-- <a href="#event" class="nav-item nav-link">Event</a> -->

            </div>
            <a href="index.html" class="navbar-brand mx-5 d-none d-lg-block">
                <h1 class="font-secondary text-white mb-n2">Sineka <span class="text-primary">&</span> Loshana</h1>
            </a>
            <div class="navbar-nav mr-auto py-0">

                <a href="#gallery" class="nav-item nav-link">Gallery</a>
                <!-- <a href="#rsvp" class="nav-item nav-link">RSVP</a> -->
                <a href="#contact" class="nav-item nav-link">Contact</a>
            </div>
        </div>
    </nav>
    <!-- Navbar End -->


    <!-- Carousel Start -->
    <div class="container-fluid p-0 mb-5 pb-5" id="home">
        <div id="header-carousel" class="carousel slide carousel-fade" data-ride="carousel">
            <div class="carousel-inner">

                <!-- Slide 1 -->
                <div class="carousel-item position-relative active" style="height: 100vh; min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/carousel-1.jpg" style="object-fit: cover;">

                    <!-- Centered Text -->
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3 text-center" style="max-width: 900px;">
                            <h1 class="display-1 font-secondary text-white mt-n3 mb-md-4">Sineka & Loshana</h1>
                            <div class="d-inline-block border-top border-bottom border-light py-3 px-4"
                                style="width: 100%;">
                                <h3 class="text-uppercase font-weight-normal text-white m-0"
                                    style="letter-spacing: 2px;">
                                    Our Wedding<br> Memories
                                </h3>
                            </div>
                        </div>
                    </div>

                    <!-- Countdown at bottom -->
                    <div class="position-absolute w-100 text-center" style="bottom: 80px;z-index: 10;">
                        <h2 class="font-secondary display-4 mb-4">04th September 2025</h2>
                        <!-- <div id="countdown" class="d-flex justify-content-center flex-wrap">
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="days1">0</div>
                                <div style="font-size: 0.8rem;">Days</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="hours1">0</div>
                                <div style="font-size: 0.8rem;">Hours</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="minutes1">0</div>
                                <div style="font-size: 0.8rem;">Minutes</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="seconds1">0</div>
                                <div style="font-size: 0.8rem;">Seconds</div>
                            </div>
                        </div> -->
                    </div>
                </div>

                <!-- Slide 2 -->
                <div class="carousel-item position-relative" style="height: 100vh; min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/carousel-2.jpg" style="object-fit: cover;">

                    <!-- Centered Text -->
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3 text-center" style="max-width: 900px;">
                            <h1 class="display-1 font-secondary text-white mt-n3 mb-md-4">Sineka & Loshana</h1>
                            <div class="d-inline-block border-top border-bottom border-light py-3 px-4"
                                style="width: 100%;">
                                <h3 class="text-uppercase font-weight-normal text-white m-0"
                                    style="letter-spacing: 2px;">
                                    Our Wedding<br> Memories
                                </h3>

                            </div>
                        </div>
                    </div>

                    <!-- Countdown at bottom -->
                    <div class="position-absolute w-100 text-center" style="bottom: 80px;z-index: 10;">
                        <h2 class="font-secondary display-4 mb-4">04th September 2025</h2>
                        <!-- <div id="countdown" class="d-flex justify-content-center flex-wrap">
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="days2">0</div>
                                <div style="font-size: 0.8rem;">Days</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="hours2">0</div>
                                <div style="font-size: 0.8rem;">Hours</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="minutes2">0</div>
                                <div style="font-size: 0.8rem;">Minutes</div>
                            </div>
                            <div class="text-white mx-3">
                                <div style="font-size: 1.8rem; font-weight: 600;" id="seconds2">0</div>
                                <div style="font-size: 0.8rem;">Seconds</div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>

            <!-- Carousel Controls -->
            <a class="carousel-control-prev justify-content-start" href="#header-carousel" data-slide="prev"
                style="padding-top: 50px;">
                <div class="btn btn-primary px-0" style="width: 68px; height: 68px;">
                    <span class="carousel-control-prev-icon mt-3"></span>
                </div>
            </a>
            <a class="carousel-control-next justify-content-end" href="#header-carousel" data-slide="next"
                style="padding-top: 50px;">
                <div class="btn btn-primary px-0" style="width: 68px; height: 68px;">
                    <span class="carousel-control-next-icon mt-3"></span>
                </div>
            </a>
        </div>
    </div>
    <!-- Carousel End -->


    <!-- Video Modal Start -->
    <div class="modal fade" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <!-- 16:9 aspect ratio -->
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item" src="" id="video" allowscriptaccess="always"
                            allow="autoplay"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Video Modal End -->


    <!-- About Start -->
    <div class="container-fluid py-5" id="about">
        <div class="container py-5">
            <div class="section-title position-relative text-center">
                <h6 class="text-uppercase text-primary mb-3" style="letter-spacing: 3px;">About</h6>
                <h1 class="font-secondary display-4">Groom & Bride</h1>
                <i class="far fa-heart text-dark"></i>
            </div>
            <div class="row m-0 mb-4 mb-md-0 pb-2 pb-md-0">
                <div class="col-md-6 p-0 text-center text-md-right">
                    <div class="h-100 d-flex flex-column justify-content-center bg-secondary p-5">
                        <h3 class="mb-3">The Groom</h3>
                        <p>Lorem elitr magna stet rebum dolores sed. Est stet labore est lorem lorem at amet sea, eos
                            tempor rebum, labore amet ipsum sea lorem, stet rebum eirmod amet. Kasd clita kasd stet amet
                            est dolor elitr.</p>
                        <h3 class="font-secondary font-weight-normal text-muted mb-3"><i
                                class="fa fa-male text-primary pr-3"></i>Loshana</h3>
                        <div class="position-relative">
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 p-0" style="min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/about-1.jpg" style="object-fit: cover;">
                </div>
            </div>
            <div class="row m-0">
                <div class="col-md-6 p-0" style="min-height: 400px;">
                    <img class="position-absolute w-100 h-100" src="img/about-2.jpg" style="object-fit: cover;">
                </div>
                <div class="col-md-6 p-0 text-center text-md-left">
                    <div class="h-100 d-flex flex-column justify-content-center bg-secondary p-5">
                        <h3 class="mb-3">The Bride</h3>
                        <p>Lorem elitr magna stet rebum dolores sed. Est stet labore est lorem lorem at amet sea, eos
                            tempor rebum, labore amet ipsum sea lorem, stet rebum eirmod amet. Kasd clita kasd stet amet
                            est dolor elitr.</p>
                        <h3 class="font-secondary font-weight-normal text-muted mb-3"><i
                                class="fa fa-female text-primary pr-3"></i>Sineka</h3>
                        <div class="position-relative">
                            <a class="btn btn-outline-primary btn-square mr-1" href="#"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->


    <!-- Gallery Start -->
    <!-- Gallery Section -->
    <div class="container-fluid bg-gallery" id="gallery">
        <div class="section-title position-relative text-center" style="margin-bottom: 80px;">
            <h3 class="text-uppercase mb-3" style="padding-top: 20px; letter-spacing: 3px;">Gallery</h3>
            <h1 class="font-secondary display-4 text-white">Our Wedding Gallery</h1>
            <i class="far fa-heart text-white"></i>
        </div>

        <div class="text-center mb-5">
            <button id="uploadBtn" class="btn btn-primary btn-lg upload-btn rounded-full">
                <i class="fas fa-cloud-upload-alt me-2"></i> Upload Your Photos
            </button>
            <p class="text-white mt-3">Help us capture every special moment by sharing your photos!</p>
        </div>

        <div id="wedding-gallery" class="grid grid-cols-2 md:grid-cols-4 gap-4 px-2 pb-10"></div>
    </div>

    <!-- Gallery End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white py-5" id="contact">
        <div class="container text-center py-5">
            <div class="section-title position-relative text-center">
                <h1 class="font-secondary display-3 text-white">Thank You</h1>
                <i class="far fa-heart text-white"></i>
            </div>
            <!-- <div class="d-flex justify-content-center py-2">
                <p class="text-white" href="#">info@example.com</p>
                <span class="px-3">|</span>
                <p class="text-white" href="#">+012 345 6789</p>
            </div> -->
            <p class="m-0">&copy; <a class="text-primary" href="#"></a>2025 by Githma Amarasinghe. All rights
                reserved.
            </p>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Scroll to Bottom -->
    <i class="fa fa-2x fa-angle-down text-white scroll-to-bottom"></i>

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-outline-primary btn-lg-square back-to-top"><i
            class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    <!-- Template Javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Glide.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/glide.min.js"></script>


    <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
    <script>
        const gallery = document.getElementById("wedding-gallery");
        const uploadBtn = document.getElementById("uploadBtn");

        const widget = cloudinary.createUploadWidget({
            cloudName: "dxpxhp9vw",
            uploadPreset: "wedding_gallery_preset",
            sources: ["local", "camera", "url"],
            multiple: true,
            maxFiles: 20,
            maxImageFileSize: 5 * 1024 * 1024,
            clientAllowedFormats: ["jpg", "jpeg", "png", "webp"],
            folder: "wedding_gallery",
            tags: ["wedding"],
            use_filename: true,
            unique_filename: false
        }, (error, result) => {
            if (error) {
                console.error("Upload error:", error);
                return;
            }

            if (result.event === "queues-end") {
                fetchImages();
            }
        });

        // Ensure the widget is opened by a direct user action
        uploadBtn.onclick = function () {
            widget.open();
        };

        async function fetchImages() {
            try {
                const res = await fetch("/.netlify/functions/get-images");
                const images = await res.json();
                if (!Array.isArray(images)) return;

                gallery.innerHTML = "";

                images.forEach(url => {
                    const thumbUrl = url.replace("/upload/", "/upload/w_300,q_70,f_auto,q_auto/");
                    const link = document.createElement("a");
                    link.href = url;
                    link.className = "glightbox";

                    const img = document.createElement("img");
                    img.src = thumbUrl;
                    img.loading = "lazy";
                    img.alt = "Wedding photo";
                    img.className = "rounded-xl shadow-lg w-full h-auto object-cover";

                    link.appendChild(img);
                    gallery.appendChild(link);
                });

                if (window.lightbox) window.lightbox.destroy();
                window.lightbox = GLightbox({
                    selector: '.glightbox',
                    touchNavigation: true,
                    loop: true,
                    zoomable: true
                });

            } catch (err) {
                console.error("Error fetching gallery images:", err);
            }
        }

        fetchImages(); // Initial load
    </script>
    <script src="js/main.js"></script>
</body>

</html>